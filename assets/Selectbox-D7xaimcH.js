import{j as a}from"./jsx-runtime-BjG_zV1W.js";import{R as y,r as O}from"./iframe-gIK4bdEr.js";import{g as i,b as R}from"./helper-B7MF-0G3.js";import{F as C}from"./index-C66RjoFl.js";import{u as M,a as U,b as A,c as H,d as I,e as B,_ as W}from"./lodash-CKelhqjC.js";import{t as v}from"./bundle-mjs-3VKOpVsw.js";import{M as z,U as P,G as $,V as D}from"./listbox-czf6WRC6.js";import{o as G,f as X,s as J,a as K}from"./floating-ui.react-dom-DpUDME4m.js";import{X as Q}from"./transition-BSBR0-FO.js";const Y=(t,r)=>r.type==="SETVALUE"?{...t,value:r.value,selected:t.list.find(n=>i(n,t.valueField)===r.value)||null}:r.type==="SETSELECT"?{...t,selected:r.selected,value:i(r.selected,t.valueField)+""}:t,_=({id:t,name:r,value:n,options:u,onChange:o,placeholder:c="Select a option",valueField:m="value"},h)=>{var x;const[l,f]=y.useReducer(Y,{list:u,value:n,valueField:m,selected:u.find(e=>i(e,m)===n||"")||null}),{refs:g,x:b,y:j,strategy:V,floatingStyles:S,context:p}=M({open:!0,middleware:[G(10),X(),J()],whileElementsMounted:K,placement:"bottom"}),w=U(p,{move:!1}),N=A(p),q=H(p),E=I(p,{role:"tooltip"}),{getReferenceProps:k,getFloatingProps:F}=B([w,N,q,E]);return y.useImperativeHandle(h,()=>({setValue:e=>{f({type:"SETVALUE",value:e+""})}})),a.jsxs("div",{className:v("form-control relative inline-block text-left",!l.value&&"text-gray-300"),children:[a.jsxs("select",{className:"w-full bg-transparent outline-0 md:hidden",onChange:e=>{f({type:"SETVALUE",value:e.target.value}),o&&o(e.target.value)},children:[a.jsx("option",{value:"",children:c}),l.list.map(e=>a.jsx("option",{value:i(e,m),disabled:e.enable===!1,children:e.label},e.id))]}),a.jsxs(z,{className:"hidden md:flex",as:"div",value:l.selected,onChange:e=>{const s=i(e,m);f({type:"SETSELECT",selected:e}),o&&o(s)},ref:g.setReference,...k(),children:[a.jsxs(P,{className:"relative z-10 inline-flex w-full justify-between !p-0 focus:outline-none dark:text-white",children:[a.jsx("span",{children:l.value?a.jsx(a.Fragment,{children:((x=l.selected)==null?void 0:x.label)||""}):c}),a.jsx(R,{className:"w-5 h-5 text-gray-400 dark:text-gray-400","aria-hidden":"true"})]}),a.jsx(Q,{as:O.Fragment,enter:"transition duration-100 ease-out",enterFrom:"scale-95 transform opacity-0",enterTo:"scale-100 transform opacity-100",leave:"transition duration-75 ease-in",leaveFrom:"scale-100 transform opacity-100",leaveTo:"scale-95 transform opacity-0",children:a.jsx($,{className:"absolute !z-[999] mt-2 inline-block w-full origin-top-right divide-y divide-gray-100 dark:divide-gray-700 rounded-md bg-white dark:bg-gray-950 shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-gray-700 focus:outline-none min-w-[150px]",ref:g.setFloating,style:S,...F({style:{position:V,top:j??"",left:b??""}}),children:a.jsx("div",{className:"flex flex-col px-1 py-1",children:l.list.map(e=>{var s,d;return a.jsx(D,{className:v("relative flex cursor-pointer select-none justify-between px-5 py-4 text-black dark:text-white hover:bg-primary-100 dark:hover:bg-primary-900",e.enable===!1&&"cursor-not-allowed opacity-50",((s=l.selected)==null?void 0:s.id)===e.id&&"bg-primary-100 dark:bg-primary-900"),value:e,disabled:e.enable===!1,children:a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"pl-5",children:e.label}),((d=l.selected)==null?void 0:d.id)===e.id?a.jsx("span",{className:v("absolute inset-y-0 left-0 flex items-center pl-3 text-primary-600"),children:a.jsx(C,{className:"w-5 h-5","aria-hidden":"true"})}):a.jsx(a.Fragment,{})]})},e.id)})})})})]}),a.jsx("input",{type:"text",id:t,name:r,style:{display:"none"},value:l.value+"",readOnly:!0})]})},Z=y.forwardRef(_);try{_.displayName="SelectboxBase",_.__docgenInfo={description:"",displayName:"SelectboxBase",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ListOption[]"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},placeholder:{defaultValue:{value:"Select a option"},description:"",name:"placeholder",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},valueField:{defaultValue:{value:"value"},description:"",name:"valueField",required:!1,type:{name:"ValueField<ListOption>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<SelectboxBaseHandler>"}}}}}catch{}const ee=(t,r)=>r.type==="SETVALUE"?{...t,value:r.value,selected:t.list.filter(n=>{var o;const u=i(n,t.valueField);return(o=r==null?void 0:r.value)==null?void 0:o.includes(u)})||[]}:r.type==="SETSELECT"?{...t,selected:r.selected,value:r.selected.map(n=>i(n,t.valueField))}:t,T=({id:t,name:r,options:n,onChange:u,placeholder:o="Select a option",valueField:c="value",value:m=[]},h)=>{var x;const[l,f]=y.useReducer(ee,{list:n,value:m||[],valueField:c,selected:m?n.filter(e=>{const s=i(e,c);return W.some(m,d=>d+""==s+"")}):[]}),{refs:g,x:b,y:j,strategy:V,floatingStyles:S,context:p}=M({open:!0,middleware:[G(10),X(),J()],whileElementsMounted:K,placement:"bottom"}),w=U(p,{move:!1}),N=A(p),q=H(p),E=I(p,{role:"tooltip"}),{getReferenceProps:k,getFloatingProps:F}=B([w,N,q,E]);return y.useImperativeHandle(h,()=>({setValue:e=>{f({type:"SETVALUE",value:e})}})),a.jsxs("div",{className:v("form-control relative inline-block text-left",!l.value&&"text-gray-300"),children:[a.jsx("select",{value:l.value,multiple:!0,className:"w-full bg-transparent outline-0 md:hidden",onChange:e=>{const s=Array.from(e.target.selectedOptions,d=>d.value);f({type:"SETVALUE",value:s}),u&&u(s)},children:l.list.map(e=>a.jsx("option",{value:i(e,c),disabled:e.enable===!1,children:e.label},e.id))}),a.jsxs(z,{as:"div",className:"hidden md:flex",value:l.selected,onChange:e=>{const s=e.map(d=>i(d,c));f({type:"SETSELECT",selected:e}),u&&u(s)},multiple:!0,ref:g.setReference,...k(),children:[a.jsxs(P,{className:"relative z-10 inline-flex w-full justify-between !p-0 focus:outline-none dark:text-white",children:[a.jsx("span",{children:l.value&&l.value.length>0?a.jsx(a.Fragment,{children:((x=l==null?void 0:l.selected)==null?void 0:x.map(e=>e.label).join(", "))||""}):o}),a.jsx(R,{className:"w-5 h-5 text-gray-400 dark:text-gray-400","aria-hidden":"true"})]}),a.jsx(Q,{as:O.Fragment,enter:"transition duration-100 ease-out",enterFrom:"scale-95 transform opacity-0",enterTo:"scale-100 transform opacity-100",leave:"transition duration-75 ease-in",leaveFrom:"scale-100 transform opacity-100",leaveTo:"scale-95 transform opacity-0",children:a.jsx($,{className:"absolute !z-[999] mt-2 inline-block w-full origin-top-right divide-y divide-gray-100 dark:divide-gray-700 rounded-md bg-white dark:bg-gray-950 shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-gray-700 focus:outline-none min-w-[150px]",ref:g.setFloating,style:S,...F({style:{position:V,top:j??"",left:b??""}}),children:a.jsx("div",{className:"flex flex-col px-1 py-1",children:l.list.map(e=>{var s,d;return a.jsx(D,{className:v("relative flex cursor-pointer select-none justify-between px-5 py-4 text-black dark:text-white hover:bg-primary-100 dark:hover:bg-primary-900",e.enable===!1&&"cursor-not-allowed opacity-50",((s=l.value)==null?void 0:s.includes(i(e,c)))&&"bg-primary-100 dark:bg-primary-900"),value:e,disabled:e.enable===!1,children:a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"pl-5",children:e.label}),(d=l.value)!=null&&d.includes(i(e,c))?a.jsx("span",{className:v("absolute inset-y-0 left-0 flex items-center pl-3 text-primary-600"),children:a.jsx(C,{className:"w-5 h-5","aria-hidden":"true"})}):a.jsx(a.Fragment,{})]})},e.id)})})})})]}),a.jsx("input",{type:"text",id:t,name:r,style:{display:"none"},readOnly:!0,value:l.value.join(",")})]})},ae=y.forwardRef(T);try{T.displayName="SelectboxMultiple",T.__docgenInfo={description:"",displayName:"SelectboxMultiple",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ListOption[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},value:{defaultValue:{value:"[]"},description:"",name:"value",required:!1,type:{name:"string[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},placeholder:{defaultValue:{value:"Select a option"},description:"",name:"placeholder",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}},valueField:{defaultValue:{value:"value"},description:"",name:"valueField",required:!1,type:{name:"ValueField<ListOption>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<SelectboxMultipleHandler>"}}}}}catch{}const L=({multiple:t=!1,...r},n)=>t===!0?a.jsx(ae,{ref:n,...r}):a.jsx(Z,{ref:n,...r}),ce=y.forwardRef(L);try{L.displayName="Selectbox",L.__docgenInfo={description:"",displayName:"Selectbox",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ListOption[]"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | string[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void) | ((value: string[]) => void)"}},valueField:{defaultValue:null,description:"",name:"valueField",required:!1,type:{name:"ValueField<ListOption>"}},multiple:{defaultValue:{value:"false"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<SelectboxHandler>"}}}}}catch{}export{ce as S};
