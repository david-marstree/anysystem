import{j as o}from"./jsx-runtime-DR9Q75dM.js";import{R as i}from"./index-DRjF_FHU.js";import{I as x}from"./InputBase-DU1TGHl3.js";import{A as T}from"./AutoComplete-Bj-22Clj.js";import{t as y}from"./bundle-mjs-3VKOpVsw.js";import"./Label-B74eOFRC.js";import"./iconBase-yPxZrzXe.js";import"./use-resolve-button-type-DRx0-JiP.js";import"./open-closed-12XbF_VX.js";import"./index-CmHj60O0.js";import"./lodash-BHNxmqSH.js";import"./portal-BoPUeaCu.js";import"./transition-A3JfTXRq.js";import"./floating-ui.react-dom-C2h4aSh8.js";import"./active-element-history-xULc_U8s.js";import"./index-BhDvn_Ny.js";const I=(t,n)=>n.type==="SETPREFIX"?{...t,prefix:n.value,realPhone:`${n.value}-${t.content}`}:n.type==="SETCONTENT"?{...t,content:n.value,realPhone:`${t.prefix}-${n.value}`}:t,s=({className:t,value:n,phonePrefix:a,phonePrefixOptions:f,onChange:u,...l})=>{const h=i.useMemo(()=>{let e=t||{container:void 0,input:void 0};return e.container=y("w-1/2",(e==null?void 0:e.container)||""),e},[t]),r=i.useMemo(()=>(n+"").split("-"),[n]),m=i.useMemo(()=>r&&r[0]?r[0]:a||"",[r,a]),d=i.useMemo(()=>r&&r[1]?r[1]:"",[r]),[p,c]=i.useReducer(I,{prefix:m,content:d,realPhone:`${m}-${d}`});return o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-1/2 btn-phone-prefix",children:o.jsx(T,{options:f,name:`phonePrefix-${l.name}`,valueField:"value",value:p.prefix,onChange:e=>{c({type:"SETPREFIX",value:e}),u&&u(`${e}-${p.content}`)},closeButton:!1})}),o.jsx(x,{className:h,value:p.content,onChange:e=>{c({type:"SETCONTENT",value:e.target.value}),u&&u(`${p.prefix}-${e.target.value}`)},...l}),o.jsx("input",{type:"hidden",name:l.name,value:p.realPhone,className:"!hidden"})]})},H=s;try{s.displayName="TelephoneInput",s.__docgenInfo={description:"",displayName:"TelephoneInput",props:{inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}},phonePrefixOptions:{defaultValue:null,description:"",name:"phonePrefixOptions",required:!0,type:{name:"SelectOption[]"}},phonePrefix:{defaultValue:null,description:"",name:"phonePrefix",required:!1,type:{name:"string"}}}}}catch{}try{TelephoneInput.displayName="TelephoneInput",TelephoneInput.__docgenInfo={description:"",displayName:"TelephoneInput",props:{inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}},phonePrefixOptions:{defaultValue:null,description:"",name:"phonePrefixOptions",required:!0,type:{name:"SelectOption[]"}},phonePrefix:{defaultValue:null,description:"",name:"phonePrefix",required:!1,type:{name:"string"}}}}}catch{}export{H as default};
