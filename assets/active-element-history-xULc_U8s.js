import{r as c}from"./index-DRjF_FHU.js";import{s as f,o as s}from"./open-closed-12XbF_VX.js";import{f as l}from"./portal-BoPUeaCu.js";function v(t,e,n,r){let u=f(n);c.useEffect(()=>{t=t??window;function d(i){u.current(i)}return t.addEventListener(e,d,r),()=>t.removeEventListener(e,d,r)},[t,e,r])}function w(t,e){let n=c.useRef([]),r=s(t);c.useEffect(()=>{let u=[...n.current];for(let[d,i]of e.entries())if(n.current[d]!==i){let a=r(e,u);return n.current=e,a}},[r,...e])}function m(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let o=[];m(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||o[0]===e.target)return;let n=e.target;n=n.closest(l),o.unshift(n??e.target),o=o.filter(r=>r!=null&&r.isConnected),o.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});export{v as E,w as m,o as r};
