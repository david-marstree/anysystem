import{R as s}from"./index-DRjF_FHU.js";import{j as g}from"./jsx-runtime-DR9Q75dM.js";const d=s.createContext({appName:""}),u=({appName:e,children:o})=>g.jsx(d.Provider,{value:{appName:e},children:o});try{u.displayName="AppProvider",u.__docgenInfo={description:"",displayName:"AppProvider",props:{appName:{defaultValue:null,description:"",name:"appName",required:!0,type:{name:"string"}}}}}catch{}const S=(e,o)=>{const{appName:p}=s.useContext(d),n=s.useMemo(()=>`${p}-localStorage-persist`,[p]),t=s.useMemo(()=>{const r=window.localStorage.getItem(n);return r?JSON.parse(r):{}},[n,localStorage]),i=r=>{if(r===null){c();return}const a=JSON.stringify({...t,[e]:r});window.localStorage.setItem(n,a)},m=s.useMemo(()=>o!==void 0&&(t[e]===void 0||t[e]===null)?(i(o),o):t[e],[t,e,o]),c=s.useCallback(()=>{window.localStorage.setItem(n,JSON.stringify(t.reduce((r,a,l)=>l===e?r:{...r,[l]:a},{})))},[n]);return[m,i,c,t]};export{S as u};
