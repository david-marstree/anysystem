import{R as s}from"./iframe-gIK4bdEr.js";import{j as _}from"./jsx-runtime-BjG_zV1W.js";const p=s.createContext({appName:""}),u=({appName:e,children:o})=>_.jsx(p.Provider,{value:{appName:e},children:o});try{p.displayName="AppContext",p.__docgenInfo={description:"",displayName:"AppContext",props:{}}}catch{}try{u.displayName="AppProvider",u.__docgenInfo={description:"",displayName:"AppProvider",props:{appName:{defaultValue:null,description:"",name:"appName",required:!0,type:{name:"string"}}}}}catch{}const N=(e,o)=>{const{appName:i}=s.useContext(p),n=s.useMemo(()=>`${i}-localStorage-persist`,[i]),r=s.useMemo(()=>{const t=window.localStorage.getItem(n);return t?JSON.parse(t):{}},[n,localStorage]),c=t=>{if(t===null){l();return}const a=JSON.stringify({...r,[e]:t});window.localStorage.setItem(n,a)},m=s.useMemo(()=>o!==void 0&&(r[e]===void 0||r[e]===null)?(c(o),o):r[e],[r,e,o]),l=s.useCallback(()=>{window.localStorage.setItem(n,JSON.stringify(r.reduce((t,a,d)=>d===e?t:{...t,[d]:a},{})))},[n]);return[m,c,l,r]};export{N as u};
