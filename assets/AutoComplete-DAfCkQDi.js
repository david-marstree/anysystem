import{j as g}from"./jsx-runtime-BjG_zV1W.js";import{r as m,R as M}from"./iframe-gIK4bdEr.js";import{t as ie}from"./bundle-mjs-3VKOpVsw.js";import{g as K,b as ze}from"./helper-B7MF-0G3.js";import{F as Pe}from"./index-C66RjoFl.js";import{G as Ye}from"./iconBase-zb0yOOdI.js";import{$ as qe,a as Le,r as Qe}from"./bugs-DbHXcW6g.js";import{r as Z}from"./index-BPuoX7PR.js";import{w as Xe,T as Ze}from"./use-resolve-button-type-CGEIKNbq.js";import{u as et}from"./use-by-comparator-CZU-NL2p.js";import{l as tt,T as nt,z as ot,j as it,u as rt,I as xe,K as lt}from"./label-CKvBRiA1.js";import{a as E,n as J,u as st,M as we,W as le,b as te,H as se,y as ce,p as at,o as P,D as ye,s as ut,c as Me}from"./keyboard-ea4pcW4v.js";import{i as V,v as dt,y as ct,x as pt,R as ft,f as mt,g as _e,l as Ae,k as ht,h as vt,j as Fe,_ as gt}from"./lodash-CKelhqjC.js";import{F as bt,n as je,f as xt,y as yt,t as St,a as Ct}from"./portal-DJ8oPe_c.js";import{m as Et,X as Ne}from"./transition-BSBR0-FO.js";import{E as Rt,m as Ve,r as $e}from"./active-element-history-VI-XlWim.js";import{c as Ot,i as de,u as It,V as Tt,A as wt}from"./open-closed-D6AVR6gh.js";import{a as Mt,G as _t}from"./description-Bx7Nq89P.js";import{_ as At}from"./focus-management-Ddlno2iB.js";import{L as Ft}from"./Label-Dm8sPyOg.js";import{e as Vt}from"./index-BQ1ygiz2.js";function oe(e,r,t){let n=t.initialDeps??[],o;return()=>{var l,s,i,a;let f;t.key&&((l=t.debug)!=null&&l.call(t))&&(f=Date.now());const c=e();if(!(c.length!==n.length||c.some((u,b)=>n[b]!==u)))return o;n=c;let d;if(t.key&&((s=t.debug)!=null&&s.call(t))&&(d=Date.now()),o=r(...c),t.key&&((i=t.debug)!=null&&i.call(t))){const u=Math.round((Date.now()-f)*100)/100,b=Math.round((Date.now()-d)*100)/100,C=b/16,v=(T,z)=>{for(T=String(T);T.length<z;)T=" "+T;return T};console.info(`%câ± ${v(b,5)} /${v(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*C,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(a=t==null?void 0:t.onChange)==null||a.call(t,o),o}}function me(e,r){if(e===void 0)throw new Error("Unexpected undefined");return e}const $t=(e,r)=>Math.abs(e-r)<1,kt=(e,r,t)=>{let n;return function(...o){e.clearTimeout(n),n=e.setTimeout(()=>r.apply(this,o),t)}},zt=e=>e,Pt=e=>{const r=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=r;o<=t;o++)n.push(o);return n},qt=(e,r)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;const o=s=>{const{width:i,height:a}=s;r({width:Math.round(i),height:Math.round(a)})};if(o(t.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const l=new n.ResizeObserver(s=>{const i=s[0];if(i!=null&&i.borderBoxSize){const a=i.borderBoxSize[0];if(a){o({width:a.inlineSize,height:a.blockSize});return}}o(t.getBoundingClientRect())});return l.observe(t,{box:"border-box"}),()=>{l.unobserve(t)}},ke={passive:!0},Lt=typeof window>"u"?!0:"onscrollend"in window,jt=(e,r)=>{const t=e.scrollElement;if(!t)return;const n=e.targetWindow;if(!n)return;let o=0;const l=Lt?()=>{}:kt(n,()=>{r(o,!1)},e.options.isScrollingResetDelay),s=f=>()=>{o=t[e.options.horizontal?"scrollLeft":"scrollTop"],l(),r(o,f)},i=s(!0),a=s(!1);return a(),t.addEventListener("scroll",i,ke),t.addEventListener("scrollend",a,ke),()=>{t.removeEventListener("scroll",i),t.removeEventListener("scrollend",a)}},Nt=(e,r,t)=>{if(r!=null&&r.borderBoxSize){const n=r.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Dt=(e,{adjustments:r=0,behavior:t},n)=>{var o,l;const s=e+r;(l=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||l.call(o,{[n.options.horizontal?"left":"top"]:s,behavior:t})};class Bt{constructor(r){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(o=>{o.forEach(l=>{this._measureElement(l.target,l)})}));return{disconnect:()=>{var o;return(o=n())==null?void 0:o.disconnect()},observe:o=>{var l;return(l=n())==null?void 0:l.observe(o,{box:"border-box"})},unobserve:o=>{var l;return(l=n())==null?void 0:l.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:zt,rangeExtractor:Pt,onChange:()=>{},measureElement:Nt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,...t}},this.notify=(t,n)=>{var o,l;const{startIndex:s,endIndex:i}=this.range??{startIndex:void 0,endIndex:void 0},a=this.calculateRange();(t||s!==(a==null?void 0:a.startIndex)||i!==(a==null?void 0:a.endIndex))&&((l=(o=this.options).onChange)==null||l.call(o,this,n))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.notify(!1,!1);return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(o,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o;const s=this.isScrolling;this.isScrolling=l,this.notify(s!==l,l)}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,n)=>{const o=new Map,l=new Map;for(let s=n-1;s>=0;s--){const i=t[s];if(o.has(i.lane))continue;const a=l.get(i.lane);if(a==null||i.end>a.end?l.set(i.lane,i):i.end<a.end&&o.set(i.lane,!0),o.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((s,i)=>s.end===i.end?s.index-i.index:s.end-i.end)[0]:void 0},this.getMeasurementOptions=oe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,n,o,l,s)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:l,enabled:s}),{key:!1}),this.getMeasurements=oe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:l,enabled:s},i)=>{var a;if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const f=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,f);for(let p=f;p<t;p++){let d=(a=this.measurementsCache[p])==null?void 0:a.measureElement;d||(d=O=>{const w=l(p),R=this.elementsCache.get(w);if(!O){R&&(this.observer.unobserve(R),this.elementsCache.delete(w));return}R!==O&&(R&&this.observer.unobserve(R),this.observer.observe(O),this.elementsCache.set(w,O)),O.isConnected&&this.resizeItem(p,this.options.measureElement(O,void 0,this))});const u=l(p),b=this.options.lanes===1?c[p-1]:this.getFurthestMeasurement(c,p),C=b?b.end+this.options.gap:n+o,v=i.get(u),T=typeof v=="number"?v:this.options.estimateSize(p),z=C+T,F=b?b.lane:p%this.options.lanes;c[p]={index:p,start:C,size:T,end:z,key:u,lane:F,measureElement:d}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=oe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,n,o)=>this.range=t.length>0&&n>0?Ht({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=oe(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,l)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.indexFromElement(t),l=this.getMeasurements()[o];if(!l||!t.isConnected){this.elementsCache.forEach((i,a)=>{i===t&&(this.observer.unobserve(t),this.elementsCache.delete(a))});return}const s=this.elementsCache.get(l.key);s!==t&&(s&&this.observer.unobserve(s),this.observer.observe(t),this.elementsCache.set(l.key,t)),this.resizeItem(o,this.options.measureElement(t,n,this))},this.resizeItem=(t,n)=>{const o=this.getMeasurements()[t];if(!o)return;const l=this.itemSizeCache.get(o.key)??o.size,s=n-l;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,s,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,n)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=oe(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let l=0,s=t.length;l<s;l++){const i=t[l],a=n[i];o.push(a)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();if(n.length!==0)return me(n[De(0,n.length-1,o=>me(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize(),l=this.getScrollOffset();n==="auto"&&(t<=l?n="start":t>=l+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const s=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-o;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=this.getMeasurements()[t];if(!o)return;const l=this.getSize(),s=this.getScrollOffset();if(n==="auto")if(o.end>=s+l-this.options.scrollPaddingEnd)n="end";else if(o.start<=s+this.options.scrollPaddingStart)n="start";else return[s,n];const i=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const l=this.getOffsetForIndex(t,n);if(!l)return;const[s,i]=l;this._scrollToOffset(s,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[f]=me(this.getOffsetForIndex(t,i));$t(f,this.getScrollOffset())||this.scrollToIndex(t,{align:i,behavior:o})}else this.scrollToIndex(t,{align:i,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(l=>l.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{var t,n;this.itemSizeCache=new Map,(n=(t=this.options).onChange)==null||n.call(t,this,!1)},this.setOptions(r)}}const De=(e,r,t,n)=>{for(;e<=r;){const o=(e+r)/2|0,l=t(o);if(l<n)e=o+1;else if(l>n)r=o-1;else return o}return e>0?e-1:0};function Ht({measurements:e,outerSize:r,scrollOffset:t}){const n=e.length-1,l=De(0,n,i=>e[i].start,t);let s=l;for(;s<n&&e[s].end<t+r;)s++;return{startIndex:l,endIndex:s}}const Wt=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ut(e){const r=m.useReducer(()=>({}),{})[1],t={...e,onChange:(o,l)=>{var s;l?Z.flushSync(r):r(),(s=e.onChange)==null||s.call(e,o,l)}},[n]=m.useState(()=>new Bt(t));return n.setOptions(t),m.useEffect(()=>n._didMount(),[]),Wt(()=>n._willUpdate()),n}function Kt(e){return Ut({observeElementRect:qt,observeElementOffset:jt,scrollToFn:Dt,...e})}function Be(e){let r=m.useRef({value:"",selectionStart:null,selectionEnd:null});return Rt(e.current,"blur",t=>{let n=t.target;n instanceof HTMLInputElement&&(r.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),E(()=>{let t=e.current;if(document.activeElement!==t&&t instanceof HTMLInputElement&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==r.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:n,selectionEnd:o}=r.current;n!==null&&o!==null&&t.setSelectionRange(n,o)}r.current={value:"",selectionStart:null,selectionEnd:null}}})}function Gt(e,{container:r,accept:t,walk:n}){let o=m.useRef(t),l=m.useRef(n);m.useEffect(()=>{o.current=t,l.current=n},[t,n]),J(()=>{if(!r||!e)return;let s=st(r);if(!s)return;let i=o.current,a=l.current,f=Object.assign(p=>i(p),{acceptNode:i}),c=s.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,f,!1);for(;c.nextNode();)a(c.currentNode)},[r,e,o,l])}var Se=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Se||{}),Jt={},Yt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Yt||{}),Qt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Qt||{}),Xt=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Xt||{}),Zt=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e))(Zt||{});function he(e,r=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=r(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((s,i)=>s.dataRef.current.order-i.dataRef.current.order):At(n,s=>s.dataRef.current.domRef.current),l=t?o.indexOf(t):null;return l===-1&&(l=null),{options:o,activeOptionIndex:l}}let en={1(e){var r;return(r=e.dataRef.current)!=null&&r.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var r,t;if((r=e.dataRef.current)!=null&&r.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,r){return e.isTyping===r.isTyping?e:{...e,isTyping:r.isTyping}},2(e,r){var t,n,o,l,s;if((t=e.dataRef.current)!=null&&t.disabled||(n=e.dataRef.current)!=null&&n.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:p}=e.virtual,d=r.focus===V.Specific?r.idx:Fe(r,{resolveItems:()=>c,resolveActiveIndex:()=>{var b,C;return(C=(b=e.activeOptionIndex)!=null?b:c.findIndex(v=>!p(v)))!=null?C:null},resolveDisabled:p,resolveId(){throw new Error("Function not implemented.")}}),u=(l=r.trigger)!=null?l:2;return e.activeOptionIndex===d&&e.activationTrigger===u?e:{...e,activeOptionIndex:d,activationTrigger:u,isTyping:!1,__demoMode:!1}}let i=he(e);if(i.activeOptionIndex===null){let c=i.options.findIndex(p=>!p.dataRef.current.disabled);c!==-1&&(i.activeOptionIndex=c)}let a=r.focus===V.Specific?r.idx:Fe(r,{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),f=(s=r.trigger)!=null?s:2;return e.activeOptionIndex===a&&e.activationTrigger===f?e:{...e,...i,isTyping:!1,activeOptionIndex:a,activationTrigger:f,__demoMode:!1}},4:(e,r)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,r.payload]};let l=r.payload,s=he(e,a=>(a.push(l),a));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(r.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(l));let i={...e,...s,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},5:(e,r)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==r.id)};let n=he(e,o=>{let l=o.findIndex(s=>s.id===r.id);return l!==-1&&o.splice(l,1),o});return{...e,...n,activationTrigger:2}},6:(e,r)=>e.activationTrigger===r.trigger?e:{...e,activationTrigger:r.trigger},7:(e,r)=>{var t,n;if(e.virtual===null)return{...e,virtual:{options:r.options,disabled:(t=r.disabled)!=null?t:()=>!1}};if(e.virtual.options===r.options&&e.virtual.disabled===r.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let l=r.options.indexOf(e.virtual.options[e.activeOptionIndex]);l!==-1?o=l:o=null}return{...e,activeOptionIndex:o,virtual:{options:r.options,disabled:(n=r.disabled)!=null?n:()=>!1}}}},Ce=m.createContext(null);Ce.displayName="ComboboxActionsContext";function ae(e){let r=m.useContext(Ce);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ae),t}return r}let He=m.createContext(null);function tn(e){let r=ne("VirtualProvider"),{options:t}=r.virtual,[n,o]=m.useMemo(()=>{let f=r.optionsRef.current;if(!f)return[0,0];let c=window.getComputedStyle(f);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[r.optionsRef.current]),l=Kt({enabled:t.length!==0,scrollPaddingStart:n,scrollPaddingEnd:o,count:t.length,estimateSize(){return 40},getScrollElement(){var f;return(f=r.optionsRef.current)!=null?f:null},overscan:12}),[s,i]=m.useState(0);J(()=>{i(f=>f+1)},[t]);let a=l.getVirtualItems();return a.length===0?null:M.createElement(He.Provider,{value:l},M.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:f=>{if(f){if(typeof process<"u"&&Jt.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&t.length>r.activeOptionIndex&&l.scrollToIndex(r.activeOptionIndex)}}},a.map(f=>{var c;return M.createElement(m.Fragment,{key:f.key},M.cloneElement((c=e.children)==null?void 0:c.call(e,{...e.slot,option:t[f.index]}),{key:`${s}-${f.key}`,"data-index":f.index,"aria-setsize":t.length,"aria-posinset":f.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${f.start}px)`,overflowAnchor:"none"}}))})))}let re=m.createContext(null);re.displayName="ComboboxDataContext";function ne(e){let r=m.useContext(re);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ne),t}return r}function nn(e,r){return te(r.type,en,e,r)}let on=m.Fragment;function rn(e,r){var t,n;let o=Mt(),{value:l,defaultValue:s,onChange:i,form:a,name:f,by:c,disabled:p=o||!1,onClose:d,__demoMode:u=!1,multiple:b=!1,immediate:C=!1,virtual:v=null,nullable:T,...z}=e,F=tt(s),[O=b?[]:void 0,w]=nt(l,i,F),[R,S]=m.useReducer(nn,{dataRef:m.createRef(),comboboxState:u?0:1,isTyping:!1,options:[],virtual:v?{options:v.options,disabled:(t=v.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:u}),N=m.useRef(!1),G=m.useRef({static:!1,hold:!1}),Y=m.useRef(null),H=m.useRef(null),Q=m.useRef(null),q=et(c),_=E(y=>v?c===null?v.options.indexOf(y):v.options.findIndex(I=>q(I,y)):R.options.findIndex(I=>q(I.dataRef.current.value,y))),L=m.useCallback(y=>te(x.mode,{1:()=>O.some(I=>q(I,y)),0:()=>q(O,y)}),[O]),X=E(y=>R.activeOptionIndex===_(y)),x=m.useMemo(()=>({...R,immediate:C,optionsPropsRef:G,inputRef:Y,buttonRef:H,optionsRef:Q,value:O,defaultValue:F,disabled:p,mode:b?1:0,virtual:v?R.virtual:null,get activeOptionIndex(){if(N.current&&R.activeOptionIndex===null&&(v?v.options.length>0:R.options.length>0)){if(v){let I=v.options.findIndex(U=>{var ue,Te;return!((Te=(ue=v.disabled)==null?void 0:ue.call(v,U))!=null&&Te)});if(I!==-1)return I}let y=R.options.findIndex(I=>!I.dataRef.current.disabled);if(y!==-1)return y}return R.activeOptionIndex},calculateIndex:_,compare:q,isSelected:L,isActive:X}),[O,F,p,b,u,R,v]);J(()=>{var y;v&&S({type:7,options:v.options,disabled:(y=v.disabled)!=null?y:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),J(()=>{R.dataRef.current=x},[x]);let ee=x.comboboxState===0;bt(ee,[x.buttonRef,x.inputRef,x.optionsRef],()=>W.closeCombobox());let k=m.useMemo(()=>{var y,I,U;return{open:x.comboboxState===0,disabled:p,activeIndex:x.activeOptionIndex,activeOption:x.activeOptionIndex===null?null:x.virtual?x.virtual.options[(y=x.activeOptionIndex)!=null?y:0]:(U=(I=x.options[x.activeOptionIndex])==null?void 0:I.dataRef.current.value)!=null?U:null,value:O}},[x,p,O]),pe=E(()=>{if(x.activeOptionIndex!==null){if(W.setIsTyping(!1),x.virtual)A(x.virtual.options[x.activeOptionIndex]);else{let{dataRef:y}=x.options[x.activeOptionIndex];A(y.current.value)}W.goToOption(V.Specific,x.activeOptionIndex)}}),fe=E(()=>{S({type:0}),N.current=!0}),h=E(()=>{S({type:1}),N.current=!1,d==null||d()}),D=E(y=>{S({type:3,isTyping:y})}),$=E((y,I,U)=>(N.current=!1,y===V.Specific?S({type:2,focus:V.Specific,idx:I,trigger:U}):S({type:2,focus:y,trigger:U}))),B=E((y,I)=>(S({type:4,payload:{id:y,dataRef:I}}),()=>{x.isActive(I.current.value)&&(N.current=!0),S({type:5,id:y})})),A=E(y=>te(x.mode,{0(){return w==null?void 0:w(y)},1(){let I=x.value.slice(),U=I.findIndex(ue=>q(ue,y));return U===-1?I.push(y):I.splice(U,1),w==null?void 0:w(I)}})),j=E(y=>{S({type:6,trigger:y})}),W=m.useMemo(()=>({onChange:A,registerOption:B,goToOption:$,setIsTyping:D,closeCombobox:h,openCombobox:fe,setActivationTrigger:j,selectActiveOption:pe}),[]),[Ue,Ke]=ot(),Ge=r===null?{}:{ref:r},Je=m.useCallback(()=>{if(F!==void 0)return w==null?void 0:w(F)},[w,F]);return M.createElement(Ke,{value:Ue,props:{htmlFor:(n=x.inputRef.current)==null?void 0:n.id},slot:{open:x.comboboxState===0,disabled:p}},M.createElement(dt,null,M.createElement(Ce.Provider,{value:W},M.createElement(re.Provider,{value:x},M.createElement(Ot,{value:te(x.comboboxState,{0:de.Open,1:de.Closed})},f!=null&&M.createElement(it,{disabled:p,data:O!=null?{[f]:O}:{},form:a,onReset:Je}),se({ourProps:Ge,theirProps:z,slot:k,defaultTag:on,name:"Combobox"}))))))}let ln="input";function sn(e,r){var t,n,o,l,s;let i=ne("Combobox.Input"),a=ae("Combobox.Input"),f=m.useId(),c=rt(),{id:p=c||`headlessui-combobox-input-${f}`,onChange:d,displayValue:u,disabled:b=i.disabled||!1,autoFocus:C=!1,type:v="text",...T}=e,z=ce(i.inputRef,r,ct()),F=je(i.inputRef),O=at(),w=E(()=>{a.onChange(null),i.optionsRef.current&&(i.optionsRef.current.scrollTop=0),a.goToOption(V.Nothing)}),R=m.useMemo(()=>{var h;return typeof u=="function"&&i.value!==void 0?(h=u(i.value))!=null?h:"":typeof i.value=="string"?i.value:""},[i.value,u]);Ve(([h,D],[$,B])=>{if(i.isTyping)return;let A=i.inputRef.current;A&&((B===0&&D===1||h!==$)&&(A.value=h),requestAnimationFrame(()=>{if(i.isTyping||!A||(F==null?void 0:F.activeElement)!==A)return;let{selectionStart:j,selectionEnd:W}=A;Math.abs((W??0)-(j??0))===0&&j===0&&A.setSelectionRange(A.value.length,A.value.length)}))},[R,i.comboboxState,F,i.isTyping]),Ve(([h],[D])=>{if(h===0&&D===1){if(i.isTyping)return;let $=i.inputRef.current;if(!$)return;let B=$.value,{selectionStart:A,selectionEnd:j,selectionDirection:W}=$;$.value="",$.value=B,W!==null?$.setSelectionRange(A,j,W):$.setSelectionRange(A,j)}},[i.comboboxState]);let S=m.useRef(!1),N=E(()=>{S.current=!0}),G=E(()=>{O.nextFrame(()=>{S.current=!1})}),Y=E(h=>{switch(a.setIsTyping(!0),h.key){case P.Enter:if(i.comboboxState!==0||S.current)return;if(h.preventDefault(),h.stopPropagation(),i.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),i.mode===0&&a.closeCombobox();break;case P.ArrowDown:return h.preventDefault(),h.stopPropagation(),te(i.comboboxState,{0:()=>a.goToOption(V.Next),1:()=>a.openCombobox()});case P.ArrowUp:return h.preventDefault(),h.stopPropagation(),te(i.comboboxState,{0:()=>a.goToOption(V.Previous),1:()=>{Z.flushSync(()=>a.openCombobox()),i.value||a.goToOption(V.Last)}});case P.Home:if(h.shiftKey)break;return h.preventDefault(),h.stopPropagation(),a.goToOption(V.First);case P.PageUp:return h.preventDefault(),h.stopPropagation(),a.goToOption(V.First);case P.End:if(h.shiftKey)break;return h.preventDefault(),h.stopPropagation(),a.goToOption(V.Last);case P.PageDown:return h.preventDefault(),h.stopPropagation(),a.goToOption(V.Last);case P.Escape:return i.comboboxState!==0?void 0:(h.preventDefault(),i.optionsRef.current&&!i.optionsPropsRef.current.static&&h.stopPropagation(),i.mode===0&&i.value===null&&w(),a.closeCombobox());case P.Tab:if(i.comboboxState!==0)return;i.mode===0&&i.activationTrigger!==1&&a.selectActiveOption(),a.closeCombobox();break}}),H=E(h=>{d==null||d(h),i.mode===0&&h.target.value===""&&w(),a.openCombobox()}),Q=E(h=>{var D,$,B;let A=(D=h.relatedTarget)!=null?D:$e.find(j=>j!==h.currentTarget);if(!(($=i.optionsRef.current)!=null&&$.contains(A))&&!((B=i.buttonRef.current)!=null&&B.contains(A))&&i.comboboxState===0)return h.preventDefault(),i.mode===0&&i.value===null&&w(),a.closeCombobox()}),q=E(h=>{var D,$,B;let A=(D=h.relatedTarget)!=null?D:$e.find(j=>j!==h.currentTarget);($=i.buttonRef.current)!=null&&$.contains(A)||(B=i.optionsRef.current)!=null&&B.contains(A)||i.disabled||i.immediate&&i.comboboxState!==0&&O.microTask(()=>{Z.flushSync(()=>a.openCombobox()),a.setActivationTrigger(1)})}),_=xe(),L=_t(),{isFocused:X,focusProps:x}=qe({autoFocus:C}),{isHovered:ee,hoverProps:k}=Le({isDisabled:b}),pe=m.useMemo(()=>({open:i.comboboxState===0,disabled:b,hover:ee,focus:X,autofocus:C}),[i,ee,X,C,b]),fe=ye({ref:z,id:p,role:"combobox",type:v,"aria-controls":(t=i.optionsRef.current)==null?void 0:t.id,"aria-expanded":i.comboboxState===0,"aria-activedescendant":i.activeOptionIndex===null?void 0:i.virtual?(n=i.options.find(h=>!h.dataRef.current.disabled&&i.compare(h.dataRef.current.value,i.virtual.options[i.activeOptionIndex])))==null?void 0:n.id:(o=i.options[i.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":_,"aria-describedby":L,"aria-autocomplete":"list",defaultValue:(s=(l=e.defaultValue)!=null?l:i.defaultValue!==void 0?u==null?void 0:u(i.defaultValue):null)!=null?s:i.defaultValue,disabled:b||void 0,autoFocus:C,onCompositionStart:N,onCompositionEnd:G,onKeyDown:Y,onChange:H,onFocus:q,onBlur:Q},x,k);return se({ourProps:fe,theirProps:T,slot:pe,defaultTag:ln,name:"Combobox.Input"})}let an="button";function un(e,r){var t;let n=ne("Combobox.Button"),o=ae("Combobox.Button"),l=ce(n.buttonRef,r),s=m.useId(),{id:i=`headlessui-combobox-button-${s}`,disabled:a=n.disabled||!1,autoFocus:f=!1,...c}=e,p=Be(n.inputRef),d=E(S=>{switch(S.key){case P.Space:case P.Enter:S.preventDefault(),S.stopPropagation(),n.comboboxState===1&&Z.flushSync(()=>o.openCombobox()),p();return;case P.ArrowDown:S.preventDefault(),S.stopPropagation(),n.comboboxState===1&&(Z.flushSync(()=>o.openCombobox()),n.value||o.goToOption(V.First)),p();return;case P.ArrowUp:S.preventDefault(),S.stopPropagation(),n.comboboxState===1&&(Z.flushSync(()=>o.openCombobox()),n.value||o.goToOption(V.Last)),p();return;case P.Escape:if(n.comboboxState!==0)return;S.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&S.stopPropagation(),Z.flushSync(()=>o.closeCombobox()),p();return;default:return}}),u=E(S=>{S.preventDefault(),!Qe(S.currentTarget)&&(S.button===Se.Left&&(n.comboboxState===0?o.closeCombobox():o.openCombobox()),p())}),b=xe([i]),{isFocusVisible:C,focusProps:v}=qe({autoFocus:f}),{isHovered:T,hoverProps:z}=Le({isDisabled:a}),{pressed:F,pressProps:O}=Xe({disabled:a}),w=m.useMemo(()=>({open:n.comboboxState===0,active:F||n.comboboxState===0,disabled:a,value:n.value,hover:T,focus:C}),[n,T,C,F,a]),R=ye({ref:l,id:i,type:Ze(e,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsRef.current)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":b,disabled:a||void 0,autoFocus:f,onMouseDown:u,onKeyDown:d},v,z,O);return se({ourProps:R,theirProps:c,slot:w,defaultTag:an,name:"Combobox.Button"})}let dn="div",cn=we.RenderStrategy|we.Static;function pn(e,r){var t,n,o;let l=m.useId(),{id:s=`headlessui-combobox-options-${l}`,hold:i=!1,anchor:a,portal:f=!1,modal:c=!0,transition:p=!1,...d}=e,u=ne("Combobox.Options"),b=ae("Combobox.Options"),C=pt(a);C&&(f=!0);let[v,T]=ft(C),z=mt(),F=ce(u.optionsRef,r,C?v:null),O=je(u.optionsRef),w=It(),[R,S]=Tt(p,u.optionsRef,w!==null?(w&de.Open)===de.Open:u.comboboxState===0);Et(R,u.inputRef,b.closeCombobox);let N=u.__demoMode?!1:c&&u.comboboxState===0;xt(N,O);let G=u.__demoMode?!1:c&&u.comboboxState===0;yt(G,{allowed:E(()=>[u.inputRef.current,u.buttonRef.current,u.optionsRef.current])}),J(()=>{var k;u.optionsPropsRef.current.static=(k=e.static)!=null?k:!1},[u.optionsPropsRef,e.static]),J(()=>{u.optionsPropsRef.current.hold=i},[u.optionsPropsRef,i]),Gt(u.comboboxState===0,{container:u.optionsRef.current,accept(k){return k.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:k.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(k){k.setAttribute("role","none")}});let Y=xe([(t=u.buttonRef.current)==null?void 0:t.id]),H=m.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u.comboboxState]),Q=E(()=>{b.setActivationTrigger(0)}),q=E(k=>{k.preventDefault(),b.setActivationTrigger(0)}),_=ye(C?z():{},{"aria-labelledby":Y,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:s,ref:F,style:{...d.style,...T,"--input-width":_e(u.inputRef,!0).width,"--button-width":_e(u.buttonRef,!0).width},onWheel:u.activationTrigger===0?void 0:Q,onMouseDown:q,...wt(S)}),L=R&&u.comboboxState===1,X=Ae(L,(n=u.virtual)==null?void 0:n.options),x=Ae(L,u.value),ee=E(k=>u.compare(x,k));if(u.virtual){if(X===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(d,{children:M.createElement(re.Provider,{value:X!==u.virtual.options?{...u,virtual:{...u.virtual,options:X}}:u},M.createElement(tn,{slot:H},d.children))})}return M.createElement(St,{enabled:f?e.static||R:!1},M.createElement(re.Provider,{value:u.mode===1?u:{...u,isSelected:ee}},se({ourProps:_,theirProps:{...d,children:M.createElement(ht,{freeze:L},typeof d.children=="function"?(o=d.children)==null?void 0:o.call(d,H):d.children)},slot:H,defaultTag:dn,features:cn,visible:R,name:"Combobox.Options"})))}let fn="div";function mn(e,r){var t,n,o,l;let s=ne("Combobox.Option"),i=ae("Combobox.Option"),a=m.useId(),{id:f=`headlessui-combobox-option-${a}`,value:c,disabled:p=(o=(n=(t=s.virtual)==null?void 0:t.disabled)==null?void 0:n.call(t,c))!=null?o:!1,order:d=null,...u}=e,b=Be(s.inputRef),C=s.virtual?s.activeOptionIndex===s.calculateIndex(c):s.activeOptionIndex===null?!1:((l=s.options[s.activeOptionIndex])==null?void 0:l.id)===f,v=s.isSelected(c),T=m.useRef(null),z=ut({disabled:p,value:c,domRef:T,order:d}),F=m.useContext(He),O=ce(r,T,F?F.measureElement:null),w=E(()=>{i.setIsTyping(!1),i.onChange(c)});J(()=>i.registerOption(f,z),[z,f]);let R=m.useRef(!(s.virtual||s.__demoMode));J(()=>{if(!s.virtual&&!s.__demoMode)return Me().requestAnimationFrame(()=>{R.current=!0})},[s.virtual,s.__demoMode]),J(()=>{if(R.current&&s.comboboxState===0&&C&&s.activationTrigger!==0)return Me().requestAnimationFrame(()=>{var _,L;(L=(_=T.current)==null?void 0:_.scrollIntoView)==null||L.call(_,{block:"nearest"})})},[T,C,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let S=E(_=>{_.preventDefault(),_.button===Se.Left&&(p||(w(),Ct()||requestAnimationFrame(()=>b()),s.mode===0&&i.closeCombobox()))}),N=E(()=>{if(p)return i.goToOption(V.Nothing);let _=s.calculateIndex(c);i.goToOption(V.Specific,_)}),G=vt(),Y=E(_=>G.update(_)),H=E(_=>{if(!G.wasMoved(_)||p||C)return;let L=s.calculateIndex(c);i.goToOption(V.Specific,L,0)}),Q=E(_=>{G.wasMoved(_)&&(p||C&&(s.optionsPropsRef.current.hold||i.goToOption(V.Nothing)))}),q=m.useMemo(()=>({active:C,focus:C,selected:v,disabled:p}),[C,v,p]);return se({ourProps:{id:f,ref:O,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:S,onFocus:N,onPointerEnter:Y,onMouseEnter:Y,onPointerMove:H,onMouseMove:H,onPointerLeave:Q,onMouseLeave:Q},theirProps:u,slot:q,defaultTag:fn,name:"Combobox.Option"})}let hn=le(rn),Ee=le(un),Re=le(sn),vn=lt,Oe=le(pn),Ie=le(mn),We=Object.assign(hn,{Input:Re,Button:Ee,Label:vn,Options:Oe,Option:Ie});function gn(e){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}const bn=(e,r)=>r.type==="SEARCH"?{...e,query:r.query,filterList:e.list.filter(t=>t.label.toLowerCase().includes(r.query.toLowerCase()))}:r.type==="SETVALUE"?{...e,value:r.value,selected:e.list.find(t=>K(t,e.valueField)===r.value)||null}:r.type==="SETSELECT"?{...e,selected:r.selected,value:K(r.selected,e.valueField)+""}:e,ve=({id:e,name:r,options:t,value:n="",valueField:o="value",onChange:l,onSearch:s,placeholder:i,closeButton:a=!0},f)=>{const[c,p]=M.useReducer(bn,{list:t,query:"",filterList:t,value:n,valueField:o,selected:t.find(d=>{const u=K(d,o);return n?u===n:!1})||null});return M.useImperativeHandle(f,()=>({search:d=>p({type:"SEARCH",query:d}),setValue:d=>p({type:"SETVALUE",value:d})})),g.jsx(We,{value:c.selected,onChange:d=>{p({type:"SETSELECT",selected:d}),l&&l(d?K(d,o):"")},children:g.jsxs("div",{className:"relative",children:[g.jsx(Re,{placeholder:i,onChange:d=>{p({type:"SEARCH",query:d.target.value}),s&&s(d.target.value)},autoComplete:"off",displayValue:d=>(d==null?void 0:d.label)||""}),g.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:[g.jsx("button",{type:"button",className:ie("size-5 text-gray-400 hover:text-gray-500 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 items-center flex justify-center",c.value?"":"hidden",a?"":"!hidden"),onClick:()=>{p({type:"SETVALUE",value:""}),p({type:"SEARCH",query:""}),l&&l("")},children:g.jsx(gn,{})}),g.jsx(Ee,{className:"items-center",children:g.jsx(ze,{className:"text-gray-400 size-5","aria-hidden":"true"})})]}),g.jsx("input",{className:"!hidden",type:"text",id:e,name:r,readOnly:!0,value:c.value+""}),g.jsx(Ne,{as:m.Fragment,enter:"transition duration-100 ease-out",enterFrom:"scale-95 transform opacity-0",enterTo:"scale-100 transform opacity-100",leave:"transition duration-75 ease-in",leaveFrom:"scale-100 transform opacity-100",leaveTo:"scale-95 transform opacity-0",afterLeave:()=>p({type:"SEARCH",query:""}),children:g.jsx(Oe,{className:"absolute z-50 w-full py-1 mt-5 overflow-auto text-base bg-white shadow-lg max-h-60 rounded-md ring-1 ring-black/5 focus:outline-none dark:bg-gray-900 sm:text-sm",children:c.filterList.map(d=>g.jsx(Ie,{as:m.Fragment,value:d,children:({selected:u,focus:b})=>g.jsxs("li",{className:ie("relative flex cursor-pointer justify-between px-5 py-4 text-black hover:bg-primary-100 dark:text-white dark:hover:bg-primary-900",(u||b)&&"bg-primary-100 dark:bg-primary-900",d.enable===!1&&"cursor-not-allowed opacity-50"),children:[g.jsx("span",{className:"pl-5",children:d.label}),u?g.jsx("span",{className:ie("absolute inset-y-0 left-0 flex items-center pl-3 text-primary-600"),children:g.jsx(Pe,{className:"w-5 h-5","aria-hidden":"true"})}):null]})},d.id))})})]})})},xn=M.forwardRef(ve);try{ve.displayName="AutoCompleteBase",ve.__docgenInfo={description:"",displayName:"AutoCompleteBase",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ListOption[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string | number"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},closeButton:{defaultValue:{value:"true"},description:"",name:"closeButton",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},onSearch:{defaultValue:null,description:"",name:"onSearch",required:!1,type:{name:"((query: string) => void)"}},valueField:{defaultValue:{value:"value"},description:"",name:"valueField",required:!1,type:{name:"ValueField<ListOption>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<AutoCompleteBaseHandler>"}}}}}catch{}const yn=(e,r)=>{if(r.type==="SEARCH")return{...e,query:r.query,filterList:e.list.filter(t=>t.label.toLowerCase().includes(r.query.toLowerCase()))};if(r.type==="SETVALUE")return{...e,value:r.value,selected:e.list.filter(t=>{const n=K(t,e.valueField);return r.value.includes(n)})||[],query:""};if(r.type==="SETSELECT")return{...e,selected:r.selected,value:r.selected.map(t=>K(t,e.valueField)),query:""};if(r.type==="REMOVESELECT"){const t=K(r.selected,e.valueField),n=e.value.filter(o=>o!==t);return{...e,value:n,selected:e.selected?e.selected.filter(o=>K(o,e.valueField)!==t):[]}}return e},ge=({id:e,name:r,value:t=[],options:n,valueField:o="value",onChange:l,onSearch:s,placeholder:i},a)=>{var p;const[f,c]=M.useReducer(yn,{query:"",list:n,filterList:n,value:t||[],valueField:o,selected:n.filter(d=>{const u=K(d,o);return gt.some(t,b=>b+""==u+"")})||[]});return M.useImperativeHandle(a,()=>({search:d=>{c({type:"SEARCH",query:d})},setValue:d=>{c({type:"SETVALUE",value:d})}})),g.jsx(We,{value:f.selected,onChange:d=>{c({type:"SETSELECT",selected:d});const u=(d==null?void 0:d.map(b=>K(b,o)))||[];l&&l(u)},multiple:!0,children:g.jsxs("div",{className:"relative flex gap-1",children:[f.selected.length>0&&g.jsx("ul",{className:"flex form-control gap-1 transform translate-y-[12px]",children:(p=f.selected)==null?void 0:p.map((d,u)=>g.jsx("li",{children:g.jsxs("div",{className:"flex p-1 rounded bg-blue-50 dark:bg-blue-900",children:[g.jsx("span",{className:"text-xs whitespace-nowrap",children:d.label}),g.jsx("button",{type:"button",onClick:()=>c({type:"REMOVESELECT",selected:d}),children:g.jsx(Vt,{fontSize:12,className:"font-bold"})})]})},u))}),g.jsx(Re,{placeholder:i,value:f.query,onChange:d=>{c({type:"SEARCH",query:d.target.value}),s&&s(d.target.value)},onKeyDown:d=>{d.key==="Backspace"&&f.query===""&&f.selected.length>0&&c({type:"REMOVESELECT",selected:f.selected[f.selected.length-1]})},autoComplete:"off"}),g.jsx(Ee,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:g.jsx(ze,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})}),g.jsx("input",{className:"!hidden",type:"text",id:e,name:r,readOnly:!0,value:f.value+""}),g.jsx(Ne,{as:m.Fragment,enter:"transition duration-100 ease-out",enterFrom:"scale-95 transform opacity-0",enterTo:"scale-100 transform opacity-100",leave:"transition duration-75 ease-in",leaveFrom:"scale-100 transform opacity-100",leaveTo:"scale-95 transform opacity-0",afterLeave:()=>c({type:"SEARCH",query:""}),children:g.jsx(Oe,{className:"absolute w-full py-1 mt-10 overflow-auto text-base bg-white shadow-lg max-h-60 rounded-md ring-1 ring-black/5 dark:ring-gray-700 focus:outline-none dark:bg-gray-900 sm:text-sm",children:f.filterList.map(d=>g.jsx(Ie,{as:m.Fragment,value:d,children:({selected:u,focus:b})=>g.jsxs("li",{className:ie("relative flex cursor-pointer justify-between px-5 py-4 text-black hover:bg-primary-100 dark:text-white dark:hover:bg-primary-900",(u||b)&&"bg-primary-100 dark:bg-primary-900",d.enable===!1&&"cursor-not-allowed opacity-50"),children:[g.jsx("span",{className:"pl-5",children:d.label}),u?g.jsx("span",{className:ie("absolute inset-y-0 left-0 flex items-center pl-3 text-primary-600"),children:g.jsx(Pe,{className:"w-5 h-5","aria-hidden":"true"})}):null]})},d.id))})})]})})},Sn=M.forwardRef(ge);try{ge.displayName="AutoCompleteMultiple",ge.__docgenInfo={description:"",displayName:"AutoCompleteMultiple",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ListOption[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},value:{defaultValue:{value:"[]"},description:"",name:"value",required:!1,type:{name:"string[] | number[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string[]) => void)"}},onSearch:{defaultValue:null,description:"",name:"onSearch",required:!1,type:{name:"((query: string) => void)"}},valueField:{defaultValue:{value:"value"},description:"",name:"valueField",required:!1,type:{name:"ValueField<ListOption>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<AutoCompleteMultipleHandler>"}}}}}catch{}const be=({multiple:e,labelProps:r,...t},n)=>{const o=()=>g.jsx(g.Fragment,{children:e===!0?g.jsx(Sn,{ref:n,...t}):g.jsx(xn,{ref:n,...t})});return r?g.jsx(Ft,{...r,children:o()}):o()},Bn=M.forwardRef(be);try{be.displayName="AutoComplete",be.__docgenInfo={description:"",displayName:"AutoComplete",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ListOption[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | string[] | number[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},closeButton:{defaultValue:null,description:"",name:"closeButton",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void) | ((value: string[]) => void)"}},onSearch:{defaultValue:null,description:"",name:"onSearch",required:!1,type:{name:"((query: string) => void) | ((query: string) => void)"}},valueField:{defaultValue:null,description:"",name:"valueField",required:!1,type:{name:"ValueField<ListOption>"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}},labelProps:{defaultValue:null,description:"",name:"labelProps",required:!1,type:{name:"LabelBaseProps"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<AutoCompleteHandler>"}}}}}catch{}export{Bn as A};
