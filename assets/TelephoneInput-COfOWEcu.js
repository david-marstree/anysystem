import{j as p}from"./jsx-runtime-BjG_zV1W.js";import{R as a}from"./iframe-gIK4bdEr.js";import{I as x}from"./InputBase-BbcBql3L.js";import{A as v}from"./AutoComplete-DAfCkQDi.js";import{t as T}from"./bundle-mjs-3VKOpVsw.js";const y=(t,n)=>n.type==="SETPREFIX"?{...t,prefix:n.value,realPhone:`${n.value}-${t.content}`}:n.type==="SETCONTENT"?{...t,content:n.value,realPhone:`${t.prefix}-${n.value}`}:t,d=({className:t,value:n,phonePrefix:l,phonePrefixOptions:f,onChange:u,...i})=>{const h=a.useMemo(()=>{let e=t||{container:void 0,input:void 0};return e.container=T("w-1/2",(e==null?void 0:e.container)||""),e},[t]),r=a.useMemo(()=>(n+"").split("-"),[n]),s=a.useMemo(()=>r&&r[0]?r[0]:l||"",[r,l]),m=a.useMemo(()=>r&&r[1]?r[1]:"",[r]),[o,c]=a.useReducer(y,{prefix:s,content:m,realPhone:`${s}-${m}`});return p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"w-1/2 btn-phone-prefix",children:p.jsx(v,{options:f,name:`phonePrefix-${i.name}`,valueField:"value",value:o.prefix,onChange:e=>{c({type:"SETPREFIX",value:e}),u&&u(`${e}-${o.content}`)},closeButton:!1})}),p.jsx(x,{className:h,value:o.content,onChange:e=>{c({type:"SETCONTENT",value:e.target.value}),u&&u(`${o.prefix}-${e.target.value}`)},...i}),p.jsx("input",{type:"hidden",name:i.name,value:o.realPhone,className:"!hidden"})]})};try{d.displayName="TelephoneInput",d.__docgenInfo={description:"",displayName:"TelephoneInput",props:{inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}},phonePrefixOptions:{defaultValue:null,description:"",name:"phonePrefixOptions",required:!0,type:{name:"SelectOption[]"}},phonePrefix:{defaultValue:null,description:"",name:"phonePrefix",required:!1,type:{name:"string"}}}}}catch{}export{d as T};
