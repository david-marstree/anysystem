import{r as l}from"./iframe-gIK4bdEr.js";import{p as g,a as p,u as m,n as s}from"./keyboard-ea4pcW4v.js";function h(t){let n=t.width/2,e=t.height/2;return{top:t.clientY-e,right:t.clientX+n,bottom:t.clientY+e,left:t.clientX-n}}function E(t,n){return!(!t||!n||t.right<n.left||t.left>n.right||t.bottom<n.top||t.top>n.bottom)}function L({disabled:t=!1}={}){let n=l.useRef(null),[e,r]=l.useState(!1),o=g(),i=p(()=>{n.current=null,r(!1),o.dispose()}),f=p(c=>{if(o.dispose(),n.current===null){n.current=c.currentTarget,r(!0);{let u=m(c.currentTarget);o.addEventListener(u,"pointerup",i,!1),o.addEventListener(u,"pointermove",d=>{if(n.current){let b=h(d);r(E(b,n.current.getBoundingClientRect()))}},!1),o.addEventListener(u,"pointercancel",i,!1)}}});return{pressed:e,pressProps:t?{}:{onPointerDown:f,onPointerUp:i,onClick:i}}}function a(t){var n;if(t.type)return t.type;let e=(n=t.as)!=null?n:"button";if(typeof e=="string"&&e.toLowerCase()==="button")return"button"}function w(t,n){let[e,r]=l.useState(()=>a(t));return s(()=>{r(a(t))},[t.type,t.as]),s(()=>{e||n.current&&n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&r("button")},[e,n]),e}export{w as T,L as w};
